<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Insert title here</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <style>
      #a {
        width: 10%;
        height: 100px;
        background-color: #bbdefb;
      }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
      $(document).ready(() => {
        //alert('load완료');
        search();

        // 클릭 이벤트 두가지 방식
        //$('#show').on("click", function(){});
        //$('#show').click(function () {});

        $('#show').on('click', '.btn', function () {
          alert('삭제'); //ajax
          let id = $(this).parent().attr('data-id');
          alert(id);
        });
      });

      function search() {
        alert('조회합니다');
        let users = [
          {
            id: 'test01',
            pw: '0000',
          },
          {
            id: 'test02',
            pw: '0000',
          },
          {
            id: 'test03',
            pw: '0000',
          },
        ];
        console.log(users);
        let result = toHtml(users);

        $('#show').html(result);
      }

      function toHtml(users) {
        //console.log(users);
        let htmlcontents = '<ul>';

        users.forEach((users) => {
          htmlcontents +=
            '<li data-id=' + users.id + '>' + users.id + users.pw + '<button class="btn">삭제</button>' + '</li>';
          //alert(htmlcontents);
        });
        htmlcontents += '</ul>';

        return htmlcontents;
      }
    </script>
  </head>
  <body>
    문서가 로드 되면 데이터 조회되기
    <div id="show"></div>
  </body>
</html>
